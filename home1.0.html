<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ESP8266 Smart Lighting</title>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>

  <!-- Header -->
  <header class="bg-dark text-white p-4 d-flex justify-content-between align-items-center">
    <h2>ESP8266 Smart Lighting</h2>
    <nav>
      <a href="#" class="text-white ms-4 text-decoration-none">Home</a>
      <a href="#" class="text-white ms-4 text-decoration-none">Features</a>
      <a href="#" class="text-white ms-4 text-decoration-none">How It Works</a>
      <a href="#" class="text-white ms-4 text-decoration-none">About</a>
      <a href="#" class="text-white ms-4 text-decoration-none">Contact</a>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="hero text-white text-center py-5" style="background: url('https://images.unsplash.com/photo-1580587771525-78b9dba3b914') center/cover no-repeat;">
    <h1 class="display-3">ESP8266-Based Wireless Lighting Control</h1>
    <p class="lead">Control your home lighting from anywhere using Wi-Fi</p>
    <button id="toggleButton" class="btn btn-primary btn-lg">Loading...</button>
  </section>

  <!-- Key Features Section -->
  <section class="py-5 text-center">
    <h2 class="mb-4">Key Features</h2>
    <div class="row row-cols-1 row-cols-md-3 g-4">
      <div class="col">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">üîå Easy Integration</h5>
            <p class="card-text">Works with your existing light switches and wiring setup.</p>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">üì∂ Wi-Fi Controlled</h5>
            <p class="card-text">ESP8266 enables wireless switching via your home network.</p>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">üïπÔ∏è Remote Access</h5>
            <p class="card-text">Turn lights on or off remotely using a web or mobile app.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works Section -->
  <section class="py-5 text-center bg-light">
    <h2 class="mb-4">How It Works</h2>
    <p>1Ô∏è‚É£ Connect ESP8266 ‚Üí 2Ô∏è‚É£ Configure via App ‚Üí 3Ô∏è‚É£ Control via Wi-Fi</p>
  </section>

  <!-- Footer -->
  <footer class="bg-dark text-white text-center p-3">
    <p>¬© 2025 ESP8266 Smart Lighting | All Rights Reserved</p>
  </footer>

  <!-- Firebase Integration Script -->
  <script>
    // Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyCc0mDOMrUgh77HMvV8YCDd39hutywEPxI",
      authDomain: "gerald-bulb.firebaseapp.com",
      databaseURL: "https://gerald-bulb-default-rtdb.firebaseio.com",
      projectId: "gerald-bulb",
      storageBucket: "gerald-bulb.appspot.com",
      messagingSenderId: "1040165190171",
      appId: "1:1040165190171:web:7eb0559396add5450416be"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    var dbRef = firebase.database().ref('/lightStatus');
    var currentStatus = false;

    // Sync button text with Firebase value
    dbRef.on('value', function(snapshot) {
      var lightStatus = snapshot.val();
      if (lightStatus === null) {
        lightStatus = false;
        dbRef.set(false);
      }
      currentStatus = lightStatus;
      document.getElementById('toggleButton').innerText = lightStatus ? "Turn OFF" : "Turn ON";
    });

    // Button click to toggle light
    document.getElementById('toggleButton').addEventListener('click', function() {
      currentStatus = !currentStatus;
      dbRef.set(currentStatus);
    });
  </script>

  <!-- Bootstrap Bundle JS (includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
